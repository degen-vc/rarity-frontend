(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{57610:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return z}});var s=n(48222),t=n(67294),c=n(47410);function i(e){for(var r=1e3*e,n=1;n<e;n++)r+=1e3*n;return r}var a=n(30266),o=n(809),l=n.n(o),u=n(67683),d=n(57698),h=n(79224),p=n(88279),x=n(73245),m=n(59851),b=n(27687),f=n(85893);function _(e){var r=e.open,n=e.closeFunction,t=e.summoner,c=(0,s.mV)().i18n,i=(0,x.Z)().transferFrom,o=(0,m.Z)().account;function u(){return(u=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(i(o,b.vn,t.id),{loading:(0,f.jsx)("b",{children:c._(c._("Deleting summoner"))}),success:(0,f.jsx)("b",{children:c._(c._("Success"))}),error:(0,f.jsx)("b",{children:c._(c._("Failed"))})});case 2:n();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:c._(c._("delete summoner")),onClose:n}),(0,f.jsxs)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:[(0,f.jsx)("h2",{children:c._(c._("Are you sure you want to delete this summoner?"))}),(0,f.jsx)("h2",{children:(0,f.jsx)("b",{children:c._(c._("This action is IRREVERSIBLE."))})}),(0,f.jsx)("h2",{children:(0,f.jsx)("b",{children:c._(c._("All items and experience will be lost."))})})]}),(0,f.jsxs)("div",{className:"flex flex-row justify-center pb-8",children:[(0,f.jsx)("div",{className:"bg-background-middle hover:bg-background-start text-white border-white border-2 rounded-lg mx-4",children:(0,f.jsx)("button",{className:"w-full uppercase px-2 py-1",onClick:n,children:(0,f.jsx)("h2",{children:c._(c._("cancel"))})})}),(0,f.jsx)("div",{className:"bg-red hover:bg-red-hovered text-white border-white border-2 rounded-lg mx-4",children:(0,f.jsx)("button",{className:"w-full uppercase px-2 py-1",onClick:function(){return function(){return u.apply(this,arguments)}()},children:(0,f.jsx)("h2",{children:c._(c._("confirm"))})})})]})]})})}var g=n(56269);function j(e){var r=e.open,n=e.closeFunction,c=e.summoner,i=(0,s.mV)().i18n,o=(0,x.Z)().transferFrom,u=(0,m.Z)().account;function b(){return(b=(0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof j.address?j.address:"",e.next=3,p.ZP.promise(o(u,r,c.id),{loading:(0,f.jsx)("b",{children:i._(i._("Transferring summoner"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 3:n();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=(0,t.useState)({input:!1,address:!1}),j=_[0],v=_[1];return(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("transfer summoner")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-4 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("Write the address to transfer the summoner"))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:(0,f.jsx)("input",{className:"p-2 text-background-end",onChange:function(e){return r=e.target.value,void v(""!==r&&r?{input:!0,address:(0,g.UJ)(r)}:{input:!1,address:!1});var r}})}),(0,f.jsx)("div",{className:"flex flex-row justify-center pb-8",children:(0,f.jsx)("div",{className:" text-white  mx-4",children:j.address?(0,f.jsx)("button",{className:"bg-red hover:bg-red-hovered border-white border-2 rounded-lg uppercase px-2 py-1",onClick:function(){return function(){return b.apply(this,arguments)}()},children:(0,f.jsx)("h2",{children:i._(i._("confirm"))})}):(0,f.jsx)(f.Fragment,{children:j.input&&(0,f.jsx)("div",{className:"opacity-80 bg-red-hovered text-white w-full mb-4 text-center rounded-lg text-xs",children:(0,f.jsx)("h2",{className:"p-2 uppercase",children:i._(i._("invalid address"))})})})})})]})})}var v=n(77616),w=n(41485);function y(){var e=(0,w._d)();return{daysPaid:(0,t.useCallback)(function(){var r=(0,a.Z)(l().mark((function r(n){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=(0,a.Z)(l().mark((function r(s,t){var c;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,null===e||void 0===e?void 0:e.daysPaid(n);case 3:c=r.sent,s(parseInt(c.toString())),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),t(0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,n){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e]),registerDaycare:(0,t.useCallback)(function(){var r=(0,a.Z)(l().mark((function r(n,s){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=(0,a.Z)(l().mark((function r(t,c){var i,a,o;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=Array(n.length).fill(s,0,n.length),a=v.vz((.1*n.length*s).toString(),"ether"),r.next=5,null===e||void 0===e?void 0:e.registerDaycare(n,i,{value:a});case 5:return o=r.sent,r.next=8,o.wait();case 8:t(),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c();case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,n){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),[e])}}function N(e){var r=e.open,n=e.closeFunction,c=e.summoner,i=(0,s.mV)().i18n,o=y().registerDaycare,u=(0,t.useState)(0),x=u[0],m=u[1];function b(){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(o([c.id],x),{loading:(0,f.jsx)("b",{children:i._(i._("Registering summoner"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 2:n();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("summoner daily care")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("The daily care is a community run system to take care of your summoners"))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("The service has a fee of 0.1 FTM for each summoner for each day."))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsxs)("h2",{children:[i._(i._("This summoner is registered for"))," ",(0,f.jsx)("b",{children:c.misc.daycare_days_paid})," ",i._(i._("days in the daily care."))]})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("How many days do you want to register your summoner/s?"))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-4 gap-5",children:(0,f.jsx)("input",{type:"number",className:"p-2 text-background-end",onChange:function(e){return m(parseInt(e.target.value))}})}),(0,f.jsx)("div",{className:"flex flex-row justify-center pb-8",children:(0,f.jsx)("div",{className:"bg-background-middle hover:bg-background-start text-white border-white border-2 rounded-lg mx-4",children:(0,f.jsx)("button",{className:"w-full uppercase px-2 py-1",onClick:(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:(0,f.jsx)("h2",{children:i._(i._("register summoner"))})})})})]})})}var k,Z=n(94849);function F(e){e=Number(e);var r=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(r>0?r+(1===r?" hour, ":" hours, "):"")+(n>0?n+(1===n?" minute, ":" minutes, "):"")+(s>0?s+(1===s?" second":" seconds"):"")}!function(e){e[e.TRANSFER=1]="TRANSFER",e[e.DELETE=2]="DELETE",e[e.DAYCARE=3]="DAYCARE"}(k||(k={}));var S=function(e){var r=e.summoner,n=e.time,c=(0,s.mV)().i18n,o=(0,t.useState)(0),d=o[0],h=o[1],m=(0,x.Z)(),b=m.adventure,g=m.level_up;function v(){h(0)}function w(){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(b(r.id),{loading:(0,f.jsx)("b",{children:c._(c._("Sending summoner"))}),success:(0,f.jsx)("b",{children:c._(c._("Success"))}),error:(0,f.jsx)("b",{children:c._(c._("Failed"))})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=(0,Z.Z)().adventure_cellar;function E(){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(S(r.id),{loading:(0,f.jsx)("b",{children:c._(c._("Sending summoner"))}),success:(0,f.jsx)("b",{children:c._(c._("Success"))}),error:(0,f.jsx)("b",{children:c._(c._("Failed"))})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(g(r.id),{loading:(0,f.jsx)("b",{children:c._(c._("Level-UP Summoner"))}),success:(0,f.jsx)("b",{children:c._(c._("Success"))}),error:(0,f.jsx)("b",{children:c._(c._("Failed"))})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsxs)("div",{className:"mx-auto w-56",children:[(0,f.jsx)(_,{open:d===k.DELETE,closeFunction:v,summoner:r}),(0,f.jsx)(j,{open:d===k.TRANSFER,closeFunction:v,summoner:r}),(0,f.jsx)(N,{open:d===k.DAYCARE,closeFunction:v,summoner:r}),(0,f.jsx)("div",{className:"p-5 w-32 mx-auto",children:u.qe[r.base._class]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 rounded-2xl border-white border-2 bg-background-contrast divide-white divide-y-2",children:[(0,f.jsx)("div",{className:"mx-auto p-2",children:""!==r.base._name?(0,f.jsx)("p",{children:r.base._name}):(0,f.jsx)("span",{children:c._(u.An[r.base._class])})}),(0,f.jsx)("div",{className:"p-2 text-xs",children:(0,f.jsxs)("p",{children:[c._(c._("id")),": ",r.id]})}),(0,f.jsxs)("div",{className:"p-2 text-xs",children:[(0,f.jsxs)("div",{className:"flex flex-row justify-between mr-2",children:[(0,f.jsx)("p",{children:c._(c._("level"))}),(0,f.jsxs)("span",{children:[" ",r.base._level]})]}),(0,f.jsxs)("div",{className:"flex flex-row justify-between mr-2",children:[(0,f.jsx)("p",{children:c._(c._("xp"))}),(0,f.jsxs)("span",{children:[" ",r.base._xp]})]}),(0,f.jsxs)("div",{className:"flex flex-row justify-between mr-2",children:[(0,f.jsx)("p",{children:c._(c._("gold"))}),(0,f.jsxs)("span",{children:[" ",r.gold.balance]})]}),(0,f.jsxs)("div",{className:"flex flex-row justify-between mr-2",children:[(0,f.jsx)("p",{children:c._(c._("craft material"))}),(0,f.jsxs)("span",{children:[" ",r.materials.balance]})]}),(0,f.jsx)("div",{className:"mt-2 uppercase text-center",children:r.base._xp>=i(r.base._level)&&(0,f.jsx)("button",{onClick:function(){return function(){return A.apply(this,arguments)}()},className:"bg-green uppercase p-1.5 text-sm border-white rounded-lg border-2",children:c._(c._("level-up"))})})]}),(0,f.jsxs)("div",{className:"p-2 text-xs",children:[(0,f.jsxs)("div",{className:"flex flex-row justify-between mr-2 items-center text-center",children:[(0,f.jsx)("p",{children:c._(c._("daycare"))}),(0,f.jsx)("button",{onClick:function(){return h(k.DAYCARE)},className:"text-center w-16",children:0===r.misc.daycare_days_paid?(0,f.jsx)("div",{className:"px-2 py-2 items-center border-white border-2 bg-red rounded-lg",children:r.misc.daycare_days_paid}):(0,f.jsx)("div",{className:"py-2 px-2 py-2items-center border-white border-2 bg-green rounded-lg",children:r.misc.daycare_days_paid})})]}),(0,f.jsx)("div",{className:"flex flex-row justify-between mr-2 items-center my-2",children:(0,f.jsx)("p",{children:c._(c._("adventure"))})}),(0,f.jsx)("div",{className:"flex flex-row justify-center mr-2 items-center my-2 text-center",children:1e3*r.base._log>n?(0,f.jsx)("button",{style:{fontSize:"0.5rem"},className:"px-1.5 opacity-50 cursor-not-allowed py-1 items-center uppercase border-white border-2 bg-background-contrast rounded-lg",children:F((1e3*r.base._log-n)/1e3)}):(0,f.jsx)("button",{onClick:(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w());case 1:case"end":return e.stop()}}),e)}))),className:"px-1 py-1 items-center uppercase text-xs border-white border-2 bg-green rounded-lg",children:c._(c._("go to adventure!"))})}),(0,f.jsx)("div",{className:"flex flex-row justify-between mr-2 items-center my-2",children:(0,f.jsx)("p",{children:c._(c._("dungeon"))})}),(0,f.jsx)("div",{className:"flex flex-row justify-center mr-2 items-center my-2 text-center",children:0===r.materials.scout?(0,f.jsx)("button",{style:{fontSize:"0.5rem"},className:"px-2 opacity-50 cursor-not-allowed py-1 items-center uppercase border-white border-2 bg-background-contrast rounded-lg",children:c._(c._("no rewards found"))}):1e3*r.materials.log<n&&0!==r.materials.scout?(0,f.jsx)("button",{onClick:(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E());case 1:case"end":return e.stop()}}),e)}))),className:"px-1 py-1 items-center uppercase text-xs border-white border-2 bg-green rounded-lg",children:c._(c._("go to dungeon!"))}):(0,f.jsx)("button",{style:{fontSize:"0.5rem"},className:"px-2 opacity-50 cursor-not-allowed py-1 items-center uppercase border-white border-2 bg-background-contrast rounded-lg",children:F((1e3*r.materials.log-n)/1e3)})})]}),(0,f.jsxs)("div",{className:"p-2 text-xs w-full",children:[(0,f.jsx)("p",{children:(0,f.jsx)("button",{className:"w-full my-1",onClick:function(){return h(k.TRANSFER)},children:(0,f.jsx)("div",{className:"uppercase px-2 py-2 items-center border-white border-2 bg-background-start rounded-lg",children:c._(c._("transfer"))})})}),(0,f.jsx)("p",{children:(0,f.jsx)("button",{className:"w-full my-1",onClick:function(){return h(k.DELETE)},children:(0,f.jsx)("div",{className:"uppercase px-2 py-2 items-center border-white border-2 bg-red rounded-lg",children:c._(c._("delete"))})})})]})]})]})},E=n(67588),C=n(5145),A=n(64932);function D(e){var r=e.open,n=e.closeFunction,c=e.summoners,i=(0,s.mV)().i18n,o=(0,m.Z)().account,u=(0,x.Z)(),_=u.isApprovedForAll,g=u.setApprovalForAll,j=(0,A.Z)(),v=j.adventure,w=j.adventure_donate,y=(0,t.useState)(!1),N=y[0],k=y[1],Z=(0,t.useCallback)((0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(o,b.bI);case 2:r=e.sent,k(r);case 4:case"end":return e.stop()}}),e)}))),[o,_]);function F(){return(F=(0,a.Z)(l().mark((function e(){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=8;break}return e.next=5,p.ZP.promise(v(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=(0,a.Z)(l().mark((function e(){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=13;break}if(0!==n){e.next=8;break}return e.next=6,p.ZP.promise(w(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 6:e.next=10;break;case 8:return e.next=10,p.ZP.promise(v(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 10:n++,e.next=2;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.ZP.promise(g(b.bI),{loading:(0,f.jsx)("b",{children:i._(i._("Approving helper contract"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})}).then((function(){return k(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){Z()}),[c,Z]),(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("adventure summoners")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:c.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("h2",{children:[i._(i._("You have"))," ",c.length," ",i._(i._("summoners available to send for adventure."))," "]}),c.length>=100&&(0,f.jsx)("h2",{className:"mt-1",children:i._(i._("We will send 1 transaction for each 100 summoners"))}),N?(0,f.jsxs)(f.Fragment,{children:[c.length>=10&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return S.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send with 0.1 FTM tip for devs"))})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return F.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send summoners"))})})]}):(0,f.jsx)("button",{onClick:function(){return function(){return E.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("approve helper"))})]}):(0,f.jsx)("div",{children:(0,f.jsxs)("h2",{children:[i._(i._("No summoners available for adventure"))," "]})})})]})})}function P(e){var r=e.open,n=e.closeFunction,c=e.summoners,i=(0,s.mV)().i18n,o=(0,m.Z)().account,u=(0,x.Z)(),_=u.isApprovedForAll,g=u.setApprovalForAll,j=(0,A.Z)(),v=j.level_up,w=j.level_up_donate,y=(0,t.useState)(!1),N=y[0],k=y[1],Z=(0,t.useCallback)((0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(o,b.bI);case 2:r=e.sent,k(r);case 4:case"end":return e.stop()}}),e)}))),[o,_]);function F(){return(F=(0,a.Z)(l().mark((function e(){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=8;break}return e.next=5,p.ZP.promise(v(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=(0,a.Z)(l().mark((function e(){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=13;break}if(0!==n){e.next=8;break}return e.next=6,p.ZP.promise(w(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 6:e.next=10;break;case 8:return e.next=10,p.ZP.promise(v(r[n].map((function(e){return e.id}))),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 10:n++,e.next=2;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.ZP.promise(g(b.bI),{loading:(0,f.jsx)("b",{children:i._(i._("Approving helper contract"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})}).then((function(){return k(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){Z()}),[c,Z]),(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("level-up summoners")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:c.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("h2",{children:[i._(i._("You have"))," ",c.length," ",i._(i._("summoners available to send for level-up."))," "]}),c.length>=100&&(0,f.jsx)("h2",{className:"mt-1",children:i._(i._("We will send 1 transaction for each 100 summoners"))}),N?(0,f.jsxs)(f.Fragment,{children:[c.length>=10&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return S.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send with 0.1 FTM tip for devs"))})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return F.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send summoners"))})})]}):(0,f.jsx)("button",{onClick:function(){return function(){return E.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("approve helper"))})]}):(0,f.jsx)("div",{children:(0,f.jsxs)("h2",{children:[i._(i._("No summoners available for level-up"))," "]})})})]})})}function T(e){var r=e.open,n=e.closeFunction,c=e.summoners,i=(0,s.mV)().i18n,o=y().registerDaycare,u=(0,t.useState)(0),x=u[0],m=u[1];function b(){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.promise(o(c.map((function(e){return e.id})),x),{loading:(0,f.jsx)("b",{children:i._(i._("Registering summoners"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 2:n();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("summoner daily care")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("The daily care is a community run system to take care of your summoners"))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("The service has a fee of 0.1 FTM for each summoner for each day."))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-2 gap-5",children:(0,f.jsx)("h2",{children:i._(i._("How many days do you want to register your summoners?"))})}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-4 gap-5",children:(0,f.jsx)("input",{type:"number",className:"p-2 text-background-end",onChange:function(e){return m(parseInt(e.target.value))}})}),(0,f.jsx)("div",{className:"flex flex-row justify-center pb-8",children:(0,f.jsx)("div",{className:"bg-background-middle hover:bg-background-start text-white border-white border-2 rounded-lg mx-4",children:(0,f.jsx)("button",{className:"w-full uppercase px-2 py-1",onClick:(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:(0,f.jsx)("h2",{children:i._(i._("register summoners"))})})})})]})})}function R(e){var r=e.open,n=e.closeFunction,c=e.summoners,i=(0,s.mV)().i18n,o=(0,m.Z)().account,u=(0,x.Z)(),_=u.isApprovedForAll,g=u.setApprovalForAll,j=(0,A.Z)(),v=j.claim_gold,w=j.claim_gold_donate,y=j.is_approved,N=(0,t.useState)(!1),k=N[0],Z=N[1],F=(0,t.useCallback)((0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(o,b.bI);case 2:r=e.sent,Z(r);case 4:case"end":return e.stop()}}),e)}))),[o,_]);function S(){return(S=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.ZP.promise(g(b.bI),{loading:(0,f.jsx)("b",{children:i._(i._("Approving helper contract"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})}).then((function(){return Z(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(l().mark((function e(){var r,n,s,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=14;break}return s=r[n].map((function(e){return e.id})),e.next=6,y(s);case 6:for(t=e.sent,a=[],o=0;o<t.length;o++)t[o]||a.push(s[o]);return e.next=11,p.ZP.promise(v(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 11:n++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,a.Z)(l().mark((function e(){var r,n,s,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=19;break}return s=r[n].map((function(e){return e.id})),e.next=6,y(s);case 6:for(t=e.sent,a=[],o=0;o<t.length;o++)t[o]||a.push(s[o]);if(0!==n){e.next=14;break}return e.next=12,p.ZP.promise(w(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 12:e.next=16;break;case 14:return e.next=16,p.ZP.promise(v(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 16:n++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){F()}),[c,F]),(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("claim gold summoners")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:c.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("h2",{children:[i._(i._("You have"))," ",c.length," ",i._(i._("summoners available to claim gold."))," "]}),c.length>=100&&(0,f.jsx)("h2",{className:"mt-1",children:i._(i._("We will send 1 transaction for each 100 summoners"))}),k?(0,f.jsxs)(f.Fragment,{children:[c.length>=10&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return D.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send with 0.1 FTM tip for devs"))})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return E.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("claim gold"))})})]}):(0,f.jsx)("button",{onClick:function(){return function(){return S.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("approve helper"))})]}):(0,f.jsx)("div",{children:(0,f.jsxs)("h2",{children:[i._(i._("No summoners available to claim gold"))," "]})})})]})})}function V(e){var r=e.open,n=e.closeFunction,c=e.summoners,i=(0,s.mV)().i18n,o=(0,m.Z)().account,u=(0,x.Z)(),_=u.isApprovedForAll,g=u.setApprovalForAll,j=(0,A.Z)(),v=j.cellar,w=j.cellar_donate,y=j.is_approved,N=(0,t.useState)(!1),k=N[0],Z=N[1],F=(0,t.useCallback)((0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(o,b.bI);case 2:r=e.sent,Z(r);case 4:case"end":return e.stop()}}),e)}))),[o,_]);function S(){return(S=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.ZP.promise(g(b.bI),{loading:(0,f.jsx)("b",{children:i._(i._("Approving helper contract"))}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})}).then((function(){return Z(!0)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(l().mark((function e(){var r,n,s,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=14;break}return s=r[n].map((function(e){return e.id})),e.next=6,y(s);case 6:for(t=e.sent,a=[],o=0;o<t.length;o++)t[o]||a.push(s[o]);return e.next=11,p.ZP.promise(v(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 11:n++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,a.Z)(l().mark((function e(){var r,n,s,t,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,C.bX)(c,100),n=0;case 2:if(!(n<r.length)){e.next=19;break}return s=r[n].map((function(e){return e.id})),e.next=6,y(s);case 6:for(t=e.sent,a=[],o=0;o<t.length;o++)t[o]||a.push(s[o]);if(0!==n){e.next=14;break}return e.next=12,p.ZP.promise(w(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 12:e.next=16;break;case 14:return e.next=16,p.ZP.promise(v(s,a),{loading:(0,f.jsxs)("b",{children:[i._(i._("Sending chunk:"))," ",n+1," of ",r.length," "]}),success:(0,f.jsx)("b",{children:i._(i._("Success"))}),error:(0,f.jsx)("b",{children:i._(i._("Failed"))})});case 16:n++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){F()}),[c,F]),(0,f.jsx)(d.Z,{isOpen:r,onDismiss:n,children:(0,f.jsxs)("div",{className:"bg-background-end rounded-lg border-2 border-white",children:[(0,f.jsx)(h.Z,{title:i._(i._("cellar summoners")),onClose:n}),(0,f.jsx)("div",{className:"text-center text-white p-4 pb-8 gap-5",children:c.length>0?(0,f.jsxs)("div",{children:[(0,f.jsxs)("h2",{children:[i._(i._("You have"))," ",c.length," ",i._(i._("summoners available to send to the cellar."))," "]}),c.length>=100&&(0,f.jsx)("h2",{className:"mt-1",children:i._(i._("We will send 1 transaction for each 100 summoners"))}),k?(0,f.jsxs)(f.Fragment,{children:[c.length>=10&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return D.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send with 0.1 FTM tip for devs"))})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return function(){return E.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("send summoners"))})})]}):(0,f.jsx)("button",{onClick:function(){return function(){return S.apply(this,arguments)}()},className:"bg-green border-white border-2 p-2 uppercase rounded-lg mt-4",children:i._(i._("approve helper"))})]}):(0,f.jsx)("div",{children:(0,f.jsxs)("h2",{children:[i._(i._("No summoners available for cellar"))," "]})})})]})})}var L=n(77973),O=n(91561),I=n(63802);function U(e){var r=e.summoners,n=e.filteredSummoners,c=(0,s.mV)().i18n,i=[{name:"by classes",func:function(e){var r=[].concat(e);r.sort((function(e,r){return e.base._class-r.base._class})),n(r)}},{name:"by level",func:function(e){var r=[].concat(e);r.sort((function(e,r){return r.base._level-e.base._level})),n(r)}},{name:"by xp",func:function(e){var r=[].concat(e);r.sort((function(e,r){return r.base._xp-e.base._xp})),n(r)}},{name:"by gold",func:function(e){var r=[].concat(e);r.sort((function(e,r){return r.gold.balance-e.gold.balance})),n(r)}},{name:"by craft materials",func:function(e){var r=[].concat(e);r.sort((function(e,r){return r.materials.balance-e.materials.balance})),n(r)}},{name:"by id-low to high",func:function(e){var r=[].concat(e);r.sort((function(e,r){return e.id-r.id})),n(r)}},{name:"by id-high to low",func:function(e){var r=[].concat(e);r.sort((function(e,r){return r.id-e.id})),n(r)}},{name:"by daycare registry ",func:function(e){var r=[].concat(e);r.sort((function(e,r){return e.misc.daycare_days_paid-r.misc.daycare_days_paid})),n(r)}}];return(0,f.jsx)(L.v,{as:"div",className:"relative text-right ml-3 mt-2 md:-mt-2",children:function(e){var n=e.open;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsxs)(L.v.Button,{className:"flex flex-row justify-end item-center w-full p-2 text-xs border-b-2 border-white font-bold text-white ",children:[(0,f.jsx)("div",{className:"h-full mr-1.5",children:(0,f.jsx)("span",{className:"uppercase",children:c._(c._("order summoners"))})}),(0,f.jsx)("div",{children:(0,f.jsx)(I.v4q,{width:16,"aria-hidden":"true"})})]})}),(0,f.jsx)(O.u,{show:n,as:t.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,f.jsx)(L.v.Items,{className:"absolute max-h-96 z-30 overflow-scroll right-0 rounded-b-lg border-b-2 border-r-2 border-l-2 pb-0.5 border-white shadow-lg bg-background-end",children:i.map((function(e,n){return(0,f.jsx)(L.v.Item,{children:(0,f.jsx)("button",{onClick:function(){return e.func(r)},className:"group w-full hover:bg-background-start flex items-center border-white p-2 text-xs font-bold",children:(0,f.jsx)("span",{className:"ml-2 uppercase whitespace-nowrap overflow-hidden overflow-ellipsis",children:e.name})})},n)}))})})]})}})}var Y,X=n(52225);function z(){var e=(0,s.mV)().i18n,r=(0,m.Z)(),n=r.library,a=r.account,o=(0,c.z)(),l=(0,t.useState)(o),u=l[0],d=l[1],h=(0,t.useState)([]),p=h[0],x=h[1],b=(0,t.useState)([]),_=b[0],g=b[1],j=(0,t.useState)([]),v=j[0],w=j[1],y=(0,t.useState)([]),N=y[0],k=y[1];(0,t.useEffect)((function(){d(o),x(o.filter((function(e){return 1e3*e.base._log<Date.now()}))),g(o.filter((function(e){return e.base._xp>=i(e.base._level)}))),w(o.filter((function(e){return e.gold.claimable>0}))),k(o.filter((function(e){return 1e3*e.materials.log<Date.now()&&0!==e.materials.scout})))}),[o]);var Z=(0,t.useState)(0),F=Z[0],C=Z[1];function A(){C(0)}var L=(0,t.useState)(Date.now()),O=L[0],I=L[1];(0,t.useEffect)((function(){if(a&&n){var e=setInterval((function(){I(Date.now())}),1e3);return function(){return clearInterval(e)}}}),[a,n]);var z=(0,t.useState)(u),M=z[0],G=z[1];return(0,f.jsxs)("div",{className:"w-full z-25",children:[(0,f.jsx)(D,{open:F===Y.ADVENTURE,closeFunction:A,summoners:p}),(0,f.jsx)(P,{open:F===Y.LEVELUP,closeFunction:A,summoners:_}),(0,f.jsx)(R,{open:F===Y.GOLD,closeFunction:A,summoners:v}),(0,f.jsx)(V,{open:F===Y.DUNGEON,closeFunction:A,summoners:N}),(0,f.jsx)(T,{open:F===Y.DAYCARE,closeFunction:A,summoners:u}),(0,f.jsx)("div",{className:"md:border-white md:border-4 p-4 md:m-10 z-10 uppercase",children:u.length>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,f.jsx)("div",{children:(0,f.jsx)("h1",{className:"text-2xl xl:text-3xl",children:e._(e._("summoners"))})}),(0,f.jsxs)("div",{className:"uppercase",children:[(0,f.jsx)("h1",{className:"text-lg",children:e._(e._("one-click"))}),(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 text-xs gap-y-3",children:[(0,f.jsxs)("button",{className:(0,X.A)("p-2 border-white border-2 bg-background-contrast rounded-lg mx-1 uppercase",0===p.length?"opacity-50":""),onClick:function(){return C(Y.ADVENTURE)},children:[(0,f.jsx)("p",{children:e._(e._("adventure"))}),(0,f.jsx)("p",{className:"mt-1",children:p.length})]}),(0,f.jsxs)("button",{className:(0,X.A)("p-2 border-white border-2 bg-background-contrast rounded-lg mx-1 uppercase",0===_.length?"opacity-50":""),onClick:function(){return C(Y.LEVELUP)},children:[(0,f.jsx)("p",{children:e._(e._("level-up"))}),(0,f.jsx)("p",{className:"mt-1",children:_.length})]}),(0,f.jsxs)("button",{className:(0,X.A)("p-2 border-white border-2 bg-background-contrast rounded-lg mx-1 uppercase",0===v.length?"opacity-50":""),onClick:function(){return C(Y.GOLD)},children:[(0,f.jsx)("p",{children:e._(e._("claim gold"))}),(0,f.jsx)("p",{className:"mt-1",children:v.length})]}),(0,f.jsxs)("button",{className:(0,X.A)("p-2 border-white border-2 bg-background-contrast rounded-lg mx-1 uppercase",0===N.length?"opacity-50":""),onClick:function(){return C(Y.DUNGEON)},children:[(0,f.jsx)("p",{children:e._(e._("dungeon"))}),(0,f.jsx)("p",{className:"mt-1",children:N.length})]}),(0,f.jsx)("button",{className:"p-2 border-white border-2 bg-background-contrast rounded-lg mx-1 uppercase",onClick:function(){return C(Y.DAYCARE)},children:e._(e._("daycare"))})]})]})]}),(0,f.jsx)("div",{className:"flex flex-row items-center justify-end mt-5",children:(0,f.jsx)("div",{className:"w-52",children:(0,f.jsx)(U,{summoners:u,filteredSummoners:G})})}),(0,f.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mt-7 items-center gap-2 xl:gap-5",children:0===M.length?u.map((function(e){return(0,f.jsx)(S,{summoner:e,time:O},e.id)})):M.map((function(e){return(0,f.jsx)(S,{summoner:e,time:O},e.id)}))})]}):(0,f.jsx)("div",{className:"flex my-10 justify-center",children:(0,f.jsx)(E.Z,{size:"50px"})})})]})}!function(e){e[e.ADVENTURE=1]="ADVENTURE",e[e.LEVELUP=2]="LEVELUP",e[e.GOLD=3]="GOLD",e[e.DUNGEON=4]="DUNGEON",e[e.DAYCARE=5]="DAYCARE"}(Y||(Y={}))},25916:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/summoners",function(){return n(57610)}])}},function(e){e.O(0,[802,768,774,888,179],(function(){return r=25916,e(e.s=r);var r}));var r=e.O();_N_E=r}]);